{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport { Audio } from 'exp';\nexport default function useSound(path) {\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      sound = _useState2[0],\n      setSound = _useState2[1];\n\n  function playAsync() {\n    var _await$Audio$Sound$cr, sound;\n\n    return _regeneratorRuntime.async(function playAsync$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(Audio.Sound.createAsync(require(path)));\n\n          case 2:\n            _await$Audio$Sound$cr = _context.sent;\n            sound = _await$Audio$Sound$cr.sound;\n            setSound(sound);\n            _context.next = 7;\n            return _regeneratorRuntime.awrap(sound.playAsync());\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function stopAsync() {\n    return _regeneratorRuntime.async(function stopAsync$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (sound) {\n              _context2.next = 2;\n              break;\n            }\n\n            return _context2.abrupt(\"return\");\n\n          case 2:\n            _context2.next = 4;\n            return _regeneratorRuntime.awrap(sound.stopAsync());\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  useEffect(function () {\n    return sound ? function () {\n      return sound.unloadAsync();\n    } : undefined;\n  });\n  return [playAsync, stopAsync];\n}","map":{"version":3,"sources":["C:/Users/Sergey/Desktop/work/work/react-native-gym-tracker/src/hooks/useSound.js"],"names":["React","useState","useEffect","Audio","useSound","path","sound","setSound","playAsync","Sound","createAsync","require","stopAsync","unloadAsync","undefined"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,KAAT,QAAsB,KAAtB;AACA,eAAe,SAASC,QAAT,CAAkBC,IAAlB,EAAwB;AACnC,kBAA0BJ,QAAQ,EAAlC;AAAA;AAAA,MAAOK,KAAP;AAAA,MAAcC,QAAd;;AAEA,WAAeC,SAAf;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAC4BL,KAAK,CAACM,KAAN,CAAYC,WAAZ,CACpBC,OAAO,CAACN,IAAD,CADa,CAD5B;;AAAA;AAAA;AACYC,YAAAA,KADZ,yBACYA,KADZ;AAKIC,YAAAA,QAAQ,CAACD,KAAD,CAAR;AALJ;AAAA,6CAOUA,KAAK,CAACE,SAAN,EAPV;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAUA,WAAeI,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA,gBACSN,KADT;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA,6CAGUA,KAAK,CAACM,SAAN,EAHV;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAMAV,EAAAA,SAAS,CAAC,YAAM;AACZ,WAAOI,KAAK,GACV;AAAA,aAAMA,KAAK,CAACO,WAAN,EAAN;AAAA,KADU,GAEVC,SAFF;AAGH,GAJQ,CAAT;AAMA,SAAO,CAACN,SAAD,EAAYI,SAAZ,CAAP;AACH","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Audio } from 'exp'\r\nexport default function useSound(path) {\r\n    const [sound, setSound] = useState();\r\n\r\n    async function playAsync() {\r\n        const { sound } = await Audio.Sound.createAsync(\r\n            require(path)\r\n        )\r\n\r\n        setSound(sound)\r\n\r\n        await sound.playAsync()\r\n    }\r\n\r\n    async function stopAsync() {\r\n        if (!sound) return\r\n        \r\n        await sound.stopAsync()\r\n    }\r\n\r\n    useEffect(() => {\r\n        return sound \r\n        ? () => sound.unloadAsync()\r\n        : undefined\r\n    })\r\n\r\n    return [playAsync, stopAsync]\r\n}"]},"metadata":{},"sourceType":"module"}